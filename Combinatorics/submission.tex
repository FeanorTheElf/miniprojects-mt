\documentclass{scrartcl}

\usepackage{graphicx}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{listings}
\usepackage{listings-rust}
\usepackage[style=english]{csquotes}
\usepackage[language=english, backend=biber, style=alphabetic, sorting=nyt]{biblatex}

\addbibresource{bibliography.bib}

\title{Miniproject - Combinatorics}
\author{Simon Pohmann}
\date{}

\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\powerset}{\mathfrak{P}}

\newcommand\restr[2]{{
    \left.\kern-\nulldelimiterspace
    #1
    \vphantom{\big|}
    \right|_{#2}
}}

\theoremstyle{definition}
\newtheorem{definition}{Definition}
\newtheorem{lemma}[definition]{Lemma}
\newtheorem{remark}[definition]{Remark}
\newtheorem{proposition}[definition]{Proposition}
\newtheorem{example}[definition]{Example}
\newtheorem{corollary}[definition]{Corollary}

\begin{document}
\maketitle

We use the convention that $\N = \{ n \in \Z \ | \ n \geq 0 \}$.

\section{Part I}
First of all, we introduce the notion of a rank function on a graded poset.
\begin{proposition}
    \label{prop:definition_rank_function}
    Let $P$ be a graded poset in which every maximal chain has length $n + 1$. Then the function
    \begin{equation*}
        r: P \to \{ 0, ..., n \}, \quad x \mapsto \max\{ k \in \N \ | \ \exists a_1, ..., a_k \in P: \ a_1 < a_2 < ... < a_k < x \}
    \end{equation*}
    is well-defined and the unique function such that $x < y$ implies $r(x) < r(y)$ for all $x, y \in P$.
    We call it the \emph{rank function} of $P$.
\end{proposition}
\begin{proof}
    Clearly $r$ is well-defined, as for every increasing sequence $a_1 < ... < a_k < x$, we have the chain $C := \{ a_1, ..., a_k, x \}$ of size $k + 1$.
    Hence by assumption, $k \leq n$ and so $r(x)$ is finite and in $\{ 0, ..., n \}$.

    Further, consider $x < y$ in $P$.
    We have a sequence $a_1 < ... < a_{r(x)} < x$ by definition of $r$.
    It follows that there is an increasing sequence $a_1 < ... < a_{r(x)} < x < y$ and so $r(y) \geq r(k) + 1 > r(x)$.

    Lastly, assume there was another function $r': P \to \{ 0, ..., n \}$ with this property.
    Consider any $x \in P$.
    By definition of $r$, there is an increasing sequence $a_1 < ... < a_{r(x)} < x$ in $P$.
    Now consider a maximal chain $C$ containing the chain $\{ a_1, ..., a_{r(x)}, x \}$.

    Say $C = \{ b_1, ..., b_{n + 1} \}$ with $b_1 < ... < b_{n + 1}$ and $x = b_j$.
    Note that we have the increasing sequence $b_1 < ... < b_{j - 1} < b_j = x$ and so by the definition of $r$, find $j \leq r(x) + 1$.
    On the other hand, have $a_1, ..., a_{r(x)} \in C$ and thus $j = r(x) + 1$, i.e.
    \begin{equation*}
        a_1 = b_1, \ ..., \ a_{r(x)} = b_{r(x)}, \ x = b_{r(x) + 1}
    \end{equation*}
    As $b_i < b_{i + 1}$, we know that $r'(b_i) < r'(b_{i + 1})$ and inductively, we see $r'(b_i) \geq i - 1$.
    However, $r'(b_{n + 1}) \leq n$ and thus $r'(b_i) = i - 1$.
    Finally it follows that $r'(x) = r'(b_{r(x) + 1}) = r(x)$.
\end{proof}
Now we will show some basic properties of the rank function.
\begin{proposition}
    Let $P$ be a graded poset of maximal rank $n$ with rank function $r$.
    Then
    \begin{itemize}
        \item $x \in P$ is minimal iff $r(x) = 0$ and maximal iff $r(x) = n$.
        \item If $x < y$ and $r(x) + 1 \neq r(y)$ then there is $z \in P$ with $x < z < y$.
        \item If $x < y$ then there is an increasing sequence $x < a_1 < ... < a_{r(y) - r(x) - 1} < y$ in $P$. 
    \end{itemize}
\end{proposition}
\begin{proof}
    For (i), let $x \in P$ be minimal. Then there is no increasing sequence $a_1 < x$ in $P$, so $r(x) \leq 0$.
    Conversely, let $r(x) = 0$. Assume there was $y \in P$ with $y < x$, then $r(y) < r(x) = 0$, a contradiction.
    The analogous statement for maximal elements is proved in the same way.
    
    For (iii), consider $x < y$ in $P$. Then the chain $\{ x, y \}$ is contained in a maximal chain $C \subseteq P$.
    Say $C = \{ b_1, ..., b_{n + 1} \}$ with $b_1 < ... < b_{n + 1}$.

    Hence we find $r(b_i) < r(b_{i + 1})$ and so inductively that $r(b_i) \geq i - 1$ and $r(b_i) \leq i - 1$ since $r(b_1) \geq 0$ and $r(b_{n + 1}) \leq n$.
    It follows that $r(b_i) = i - 1$ and so $x = b_{r(x) + 1}, y = b_{r(y) + 1}$.
    Therefore, we have a chain
    \begin{equation*}
        x < b_{r(x) + 2} < ... < b_{r(y)} < y
    \end{equation*}
    of length $r(y) - r(x) - 1$.
    Statement (ii) follows directly, as in this setting, have $r(y) \geq r(x) + 2$ and so $r(y) - r(x) - 1 \neq 0$.
\end{proof}

\section{Part II}
In this part, we want to study whether graded posets satisfy an analogue of the LYM inequality.
\begin{proposition}
    \label{prop:characterization_lym}
    For a graded poset $P$ with layers $L_0, ..., L_n$ the following statements are equivalent:
    \begin{itemize}
        \item For every antichain $A \subseteq P$ have
        \begin{equation*}
            \sum_{i = 0}^n \frac {|A \cap L_i|} {|L_i|} \leq 1
        \end{equation*}
        \item For each $1 < i \leq n$ and $F \subseteq L_i$ have
        \begin{equation*}
            \frac {|\partial F|} {|L_{i - 1}|} \geq \frac {|F|} {|L_i|}
        \end{equation*}
        where
        \begin{equation*}
            \partial F := \{ a \in L_{i - 1} \ | \ \exists b \in F: \ a \leq b \}
        \end{equation*}
        \item There exists a (nonempty) sequence of maximal chains $C_1, ..., C_t$ such that for all $1 \leq i \leq n$ we have:
        \begin{equation*}
            |\{ j \ | \ x \in C_j \}| = |\{ j \ | \ y \in C_j \}| \ \text{for all $x, y \in L_i$}
        \end{equation*}
    \end{itemize}
\end{proposition}
\begin{proof}
    Show the directions (ii) $\Rightarrow$ (iii) $\Rightarrow$ (i) $\Rightarrow$ (ii)
    \paragraph{(ii) $\Rightarrow$ (iii)} Use induction on $n$.
    The base case is trivial, just take chains $\{x\}$ for each $x \in A = L_0$.
    So assume that $n > 0$. The set
    \begin{equation*}
        A' := \bigcup_{i = 0}^{n - 1} L_i
    \end{equation*}
    is a graded poset of maximal rank $n - 1$, and hence there are maximal chains $C_1, ..., C_t \subseteq A'$ such that for all $1 \leq i \leq n - 1$ have
    \begin{equation*}
        |\{j \ | \ x \in C_j\}| = |\{j \ | \ y \in C_j\}| \ \text{for all $x, y \in L_i$}
    \end{equation*}
    by induction hypothesis.
    Let now $V_1 := \{1\} \times [t] \times L_n$ and $V_2 := \{2\} \times [t] \times L_n$ and consider the bipartite graph $G := (V_1 \sqcup V_2, E)$ where $E$ is defined as follows:
    \begin{equation*}
        \{ \underbrace{(1, i, a)}_{\in V_1}, \underbrace{(2, j, b)}_{\in V_2} \} \in E \ \Leftrightarrow \ \max C_j < a
    \end{equation*}
    We use Hall's theorem to show that $G$ has a matching.

    Consider any $W = \{ (1, i_1, a_1), ..., (1, i_w, a_w) \} \subseteq V_1$ and let $F = \{ a_1, ..., a_w \}$.
    Then
    \begin{equation*}
        W \subseteq [t] \times F \ \Rightarrow \ |W| \leq t|F|
    \end{equation*}
    By choice of $C_1, ..., C_t$, we have that the number of $j$ with $x \in C_j$ is the same for all $x \in L_{n - 1}$, say $k$.
    Since the $C_i$ are maximal chains, each intersects $L_{n - 1}$ in exactly one element.
    So have bijection
    \begin{align*}
        \{ (x, i) \ | \ x \in L_{n - 1}, 1 \leq i \leq t, x \in C_i\} \to \{ i \ | \ 1 \leq i \leq t \}, \quad (x, i) \mapsto i
    \end{align*}
    where the set on the left-hand side has size $k |L_{n - 1}|$. It follows that $k|L_{n - 1}| = t$.

    Since $\max C_j \in L_{n - 1}$ for all $j$, we have
    \begin{align*}
        N(W) =& \{ (2, j, b) \ | \ b \in L_n, \exists a \in F: \max C_j < a \} \\
        =& \{2\} \times \{ j \ | \ \exists a \in F: \max C_j < a \} \times L_n \\
        =& \{2\} \times \{ j \ | \ \max C_j \in \partial F \} \times L_n
    \end{align*}
    and so by the above
    \begin{align*}
        |N(W)| = |L_n| \sum_{\max C_j \in \partial F} 1 = |L_n| \sum_{x \in \partial F} \sum_{x \in C_j} 1 = |L_n| \sum_{x \in \partial F} k = |L_n| |\partial F| k
    \end{align*}
    Together with the assumption that $|\partial F| |L_n| \geq |F| |L_{n - 1}|$ we see that
    \begin{equation*}
        |W| \leq t |F| = k |L_{n - 1}| |F| \leq k |\partial F| |L_n| = |N(W)|
    \end{equation*}
    So Hall's theorem yields a matching $M \subseteq E$ from $V_1$ to $V_2$.
    As $|V_1| = |V_2|$, this is already a 1-to-one correspondence.

    Now consider the sets
    \begin{equation*}
        C'_m := C_j \cup \{ a \} \ \text{for each} \ m = \{\underbrace{(1, i, a)}_{\in V_1}, \underbrace{(2, j, b)}_{\in V_2}\} \in M
    \end{equation*}
    These are chains, as $\max C_j < a$ for each $C'_m$.
    Further, for each $x, y \in L_i, i < n$ have that
    \begin{equation*}
        |\{ m \ | \ x \in C'_m \}| = |L_n \times \{ j \ | \ x \in C_j \}| = |L_n \times \{ j \ | \ y \in C_j \}| = |\{ C'_m \ | \ y \in C'_m \}|
    \end{equation*}
    as $M$ is a matching from $V_2$ to $V_1$.
    Finally, for all $x \in L_n$ we have that
    \begin{align*}
        |\{ C'_m \ | \ x \in C'_m \}| =& |\{ m \in M \ | \ \exists i, v \in V_2: m = \{ (i, x), v \} \}| = |\{ (i, x) \ | \ (i, x) \in V_1 \}| = t
    \end{align*}
    as $M$ is a matching from $V_1$ to $V_2$.

    \paragraph{(iii) $\Rightarrow$ (i)} Let $C_1, ..., C_t$ be a sequence of maximal chains given by the assumption.
    For $1 \leq i \leq n$ let $k_i$ be the number of different $j$ such that a fixed element $x \in L_i$ is contained in exactly the $C_j$.
    By assumption, this does not depend on $x$.

    As in the direction above, we see that $k_i |L_i| = t$ because each $C_j$ intersects $L_i$ in exactly one element, so there is a bijection
    \begin{align*}
        \{ (x, j) \ | \ x \in L_i, 1 \leq j \leq t, x \in C_j\} \to \{ j \ | \ 1 \leq j \leq t \}, \quad (x, j) \mapsto j
    \end{align*}
    and the set on the left has size $k_i |L_i|$.

    Since each $C_j$ is a chain and $A$ is an antichain, we find that $A$ and $C_j$ intersect in at most one element.
    So
    \begin{align*}
        t \geq& |\{ j \ | \ A \cap C_j \neq \emptyset \}| = \sum_{a \in A} |\{ j \ | \ a \in C_j \}| = \sum_{i = 0}^n \ \sum_{a \in A \cap L_i} |\{ j \ | \ a \in C_j \}| \\
        =& \sum_{i = 0}^n \ \sum_{a \in A \cap L_i} k_i = \sum_{i = 0}^n k_i |A \cap L_i| = \sum_{i = 0}^n \frac {|A \cap L_i|} {|L_i|} t
    \end{align*}
    The claim follows by canceling $t$.

    \paragraph{(i) $\Rightarrow$ (ii)}
    Consider $A := F \cup (L_{i - 1} \setminus \partial F)$.
    This is clearly an antichain, as for $x \in F, y \in L_{i - 1} \setminus \partial F$ have $y \not< x$.
    However, $r(y) < r(x)$ so also $x \not< y$, thus $x$ and $y$ are incomparable.
    Clearly elements from the same layer are incomparable.

    Thus, the assumption yields that
    \begin{equation*}
        \frac {|L_{i - 1}| - |\partial F|} {|L_{i - 1}|} + \frac {|F|} {|L_i|} = \frac {|A \cap L_{i - 1}|} {|L_{i - 1}|} + \frac {|A \cap L_i|} {|L_i|} = \sum_{j = 0}^n \frac {|A \cap L_j|} {|L_j|} \leq 1
    \end{equation*}
    This gives
    \begin{equation*}
        1 + \frac {|F|} {|L_i|} \leq 1 + \frac {|\partial F|} {|L_{i - 1}|}
    \end{equation*}
    and the claim follows.
\end{proof}

\section{Part III}
In this part, we show that sufficiently symmetric posets satisfy the conditions introduced in the previous part.
We even show a slightly stronger stronger statement than required in the task, namely that the implication to the second condition of Prop.\ref{prop:characterization_lym} already holds ``locally'', i.e. for each layer separately.
\begin{proposition}
    \label{prop:biregular_implies_lym}
    Let $P$ be a graded poset with layers $L_0, ..., L_n$ and let $0 < i \leq n$ such that
    \begin{itemize}
        \item Each element $a \in L_i$ covers the same number of elements in $L_{i - 1}$
        \item Each element $a \in L_{i - 1}$ is covered by the same number of elements in $L_i$
    \end{itemize}
    Then for each $F \subseteq L_i$ have
    \begin{equation*}
        \frac {|\partial F|} {|L_{i - 1}|} \geq \frac {|F|} {|L_i|}
    \end{equation*}
    In particular, if this is true for all $i$, then all the equivalent conditions from Prop.~\ref{prop:characterization_lym} follow.
\end{proposition}
\begin{proof}
    Assume that for all $a \in L_i$
    \begin{equation*}
        |\{ b \in L_{i - 1} \ | \ \text{$a$ covers $b$} \}| = k \in \N
    \end{equation*}
    and for all $b \in L_{i - 1}$
    \begin{equation*}
        |\{ a \in L_i \ | \ \text{$a$ covers $b$} \}| = l \in \N
    \end{equation*}
    Double-counting pairs $(a, b) \in L_i \times L_{i - 1}$ such that $a$ covers $b$ yields $k|L_i| = l|L_{i - 1}|$.
    Now consider $F \subseteq L_i$.
    Note that by definition of $\partial F$, we have for all $a \in F$ that
    \begin{equation*}
        \{ b \in \partial F \ | \ \text{$a$ covers $b$} \} = \{ b \in L_{i - 1} \ | \ \text{$a$ covers $b$} \} = \partial \{a\} \subseteq \partial F
    \end{equation*}
    Again by double-counting pairs $(a, b) \in F \times \partial F$ such that $a$ covers $b$, we find
    \begin{align*}
        k|F| =& \sum_{a \in F} k = \sum_{a \in F} |\{ b \in L_{i - 1} \ | \ \text{$a$ covers $b$} \}| = \sum_{a \in F} |\{ b \in \partial F \ | \ \text{$a$ covers $b$} \}| \\
        =& |\{ (a, b) \in F \times \partial F \ | \ \text{$a$ covers $b$} \}| = \sum_{b \in \partial F} |\{ a \in F \ | \ \text{$a$ covers $b$}\}| \\
        \leq& \sum_{b \in \partial F} |\{ a \in L_i \ | \ \text{$a$ covers $b$}\}| = \sum_{b \in \partial F} l = l |\partial F|
    \end{align*}
    Hence
    \begin{equation*}
        \frac {|\partial F|} {|L_{i - 1}|} = \frac {l |\partial F|} {l |L_{i - 1}|} \leq \frac {k |F|} {k |L_i|} = \frac {|F|} {|L_i|}
    \end{equation*}
\end{proof}

\section{Part IV}
\begin{example}
    Let $\Pi_m = \{ \pi \subseteq \powerset(m) \ | \ \text{$\pi$ partition} \}$ be the poset of partitions ordered by refinement.
    Then $\Pi_m$ is a graded poset with rank function
    \begin{equation*}
        r: \Pi_m \to \{ 0, ..., m - 1 \}, \quad \pi \mapsto m - |\pi|
    \end{equation*}
\end{example}
\begin{proof}
    First of all, have $1 \leq |X| \leq n$ for all subsets $X \subseteq \powerset(n)$, hence the function $r$ is well-defined.
    Next we show that for all $x < y$ have $r(x) < r(y)$.
    However, if $x$ is a proper refinement of $y$, then clearly $|x| > |y|$, so $r(x) < r(y)$.

    Now assume there is a maximal chain $\pi_1 < ... < \pi_t$ in $\Pi_m$, and want to show that $t = m$.
    As the chain is maximal and $\Pi_m$ has the largest element $[m]$, we may assume that $\pi_t = [m]$ and thus $r(\pi_t) = m - 1$.
    Similarly, we may assume that $p_1 = \{ \{a\} \ | \ a \in [m]\}$ and so $r(\pi_1) = 0$.
    So it suffices to show that $r(\pi_i) = 1 + r(\pi_{i - 1})$ for all $0 < i \leq t$.

    Assume not, i.e. $|\pi_{i - 1}| \geq 2 + |\pi_i|$ for some $0 < i \leq t$.
    Since $\pi_{i - 1}$ is a refinement of $\pi_i$, we find that
    \begin{equation*}
        \pi_{i - 1} = \{ A_{11}, ..., A_{1m_1}, \ ..., \ A_{n1}, ..., A_{nm_n} \} \quad \text{with} \quad \pi_i = \Bigl\{ \bigcup_{j \leq m_1} A_{1j}, ..., \bigcup_{j \leq m_n} A_{nj} \Bigr\}
    \end{equation*}
    where $n = |\pi_i|$ and $\sum_j m_j = |\pi_{i - 1}| \geq 2 + n$.
    Hence, there is one $s \leq n$ with $m_s \geq 3$ or two different $s, r \leq n$ with $m_s, m_r \geq 2$.
    
    In the first case, consider
    \begin{equation*}
        \tilde{\pi} := \{ A_{jk} \ | \ j \neq s \} \cup \Bigl\{ A_{s1}, \bigcup_{2 \leq j \leq m_s} A_{sj} \Bigr\}
    \end{equation*}
    and in the second case, consider
    \begin{equation*}
        \tilde{\pi} := \{ A_{jk} \ | \ j \neq s \} \cup \Bigl\{ \bigcup_{j \leq m_s} A_{sj} \Bigr\}
    \end{equation*}
    Then $\pi_{i - 1} < \tilde{\pi} < \pi_i$ and we found a longer chain
    \begin{equation*}
        \pi_1 < ... < \pi_{i - 1} < \tilde{\pi} < \pi_i < ... < \pi_t
    \end{equation*}
    which contradicts the assumed maximality. The claim follows.
\end{proof}
\begin{proposition}
    \label{prop:partitions_recursion}
    For the number $S(m, k) := |\{ \pi \in \Pi_m \ | \ |\pi| = k\}|$ we have recursion
    \begin{equation*}
        S(m, 1) = 1 \quad \text{and} \quad S(m, k) = \sum_{n = 1}^{m - 1} {m - 1 \choose n} S(n, k - 1)
    \end{equation*}
    where $1 \leq k \leq m$.
\end{proposition}
\begin{proof}
    Use induction on $k$. 
    The base case $k = 1$ is trivial, so let $k > 1$.
    For any partition $\pi \in \Pi_m$, denote by $A(1, \pi)$ the unique set $A \in \pi$ with $1 \in A$.
    We find
    \begin{align*}
        S(m, k) =& |\{ \pi \in \Pi_m \ | \ |\pi| = k \}| = \Bigl| \bigcup_{\emptyset \neq A \subseteq [m], \ 1 \in A} \{ \pi \in \Pi_m \ | \ |\pi| = k, A(1, \pi) = A \} \Bigr| \\
        =& \sum_{\emptyset \neq A \subseteq [m], \ 1 \in A} |\{ \pi \in \Pi_m \ | \ |\pi| = k, A(1, \pi) = A \}| \\
        =& \sum_{\emptyset \neq A \subseteq [m], \ 1 \in A} |\{ \pi \in \Pi_m \ | \ |\pi \setminus \{A\}| = k - 1, A(1, \pi) = A\}| \\
        =& \sum_{\emptyset \neq A \subseteq [m], \ 1 \in A} |\{ \pi \in \Pi_{m - |A|} \ | \ |\pi| = k - 1 \}| \\
        =& \sum_{i = 1}^m \ \sum_{A \subseteq [m], \ |A| = i, \ 1 \in A} |\{ \pi \in \Pi_{m - i} \ | \ |\pi| = k - 1 \} \\
        =& \sum_{i = 1}^m {m - 1 \choose i - 1} S(m - i, k - 1) = \sum_{i = 0}^{m - 1} {m - 1 \choose m - i - 1} S(i, k - 1) \\
        =& \sum_{i = 1}^{m - 1} {m - 1 \choose i} S(i, k - 1)
    \end{align*}
    as for $k > 1$ have that $S(0, k) = 0$.
\end{proof}
\begin{example}
    \label{ex:partitions_have_no_lym}
    Have for $m \geq 3$ that
    \begin{equation*}
        S(m, 2) = 2^{m - 1} - 1 \quad \text{and} \quad S(m, 3) = \frac 1 2 (3^{m - 1} - 2^m + 1)
    \end{equation*}

    Note that this is the partition into \emph{exactly} $k$ sets; 
    I am not completely sure what the exercise description tells us to show, but if it is about the number of ways of decomposing $[m]$ into \emph{at most} $k$ sets, then have
    \begin{equation*}
        \Sigma S(m, k)(2) = 2^{m - 1} \quad \text{and} \quad \Sigma S(m, k)(3) = 3^{m - 1} = \frac 1 2 3^{m - 1} + \frac 1 2
    \end{equation*}
    for $m \geq 3$.
    Here $\Sigma S(m, k) = \sum_{l \leq k} S(m, l)$ is the number of partitions of $[m]$ into at most $k$ sets.
    \begin{proof}
        By Prop.~\ref{prop:partitions_recursion} have that for $m \geq 1$ we have $S(m, 1) = 1$.
        Further, for $m \geq 2$ have
        \begin{equation*}
            S(m, 2) = \sum_{n = 1}^{m - 1} {m - 1 \choose n} 1 = 2^{m - 1} - 1
        \end{equation*}
        Applying this once more yields for $m \geq 3$ that
        \begin{align*}
            S(m, 3) =& \sum_{n = 1}^{m - 1} {m - 1 \choose n} (2^{n - 1} - 1) = \frac 1 2 \sum_{n = 1}^{m - 1} {m - 1 \choose n} 2^n - \sum_{n = 1}^{m - 1} {m - 1 \choose n} 1 \\
            =&\frac 1 2 \sum_{n = 0}^{m - 1} {m - 1 \choose n} 2^n - \frac 1 2 - \sum_{n = 0}^{m - 1} {m - 1 \choose n} 1 + 1 \\
            =& \frac 1 2 (1 + 2)^{m - 1} - 2^{m - 1} + \frac 1 2 = \frac 1 2 (3^{m - 1} - 2^m + 1)
        \end{align*}
    \end{proof}
    Let $m$ be even and consider $\mathcal{A} \subseteq \Pi_m$ of partitions of $[m]$ into two equally sized sets.
    Then
    \begin{equation*}
        |\mathcal{A}| = \frac 1 2 {m \choose m/2}
    \end{equation*}
    \begin{proof}
        Consider the map
        \begin{equation*}
            f: [m]^{(m/2)} \to \mathcal{A}, \quad A \mapsto \{ A, [m] \setminus A \}
        \end{equation*}
        Then for $A$ and $B \neq A, [m] \setminus A$ have that $\{ A, [m] \setminus A \} \neq \{ B, [m] \setminus B \}$.
        Conversely, $A$ and $[m] \setminus A$ have the same image under $f$.
        This shows that $f$ is 2-to-1 and thus 
        \begin{equation*}
            |\mathcal{A}| = \frac 1 2 \left| [m]^{(m/2)} \right| = \frac 1 2 {m \choose m/2}
        \end{equation*}
    \end{proof}
    Further have
    \begin{equation*}
        |\partial \mathcal{A}| = {m \choose m/2} \left( 2^{m/2 - 1} - 1 \right)
    \end{equation*}
    \begin{proof}
        Consider the map
        \begin{align*}
            g: \underbrace{\{ (A, B, C) \ | \ A \in [m]^{(m/2)}, \{ A, B, C \} \in \Pi_m \}}_{ =: \mathcal{G} } \to \partial \mathcal{A}, \quad (A, B, C) &\mapsto \{ A, B, C \}
        \end{align*}
        Note that $g$ is well-defined, as for $A \in [m]^{(m/2)}, \{ A, B, C \} \in \Pi_m$ have that $\pi := \{ A, B, C \}$ is a partition in $L_{m - 3}$ that refines the partition $\{ A, B \cup C \} \in \mathcal{A} \subseteq L_{m - 2}$.
        Further, it is easy to see that $g$ is surjective, as every partition $\pi \in \partial \mathcal{A}$ satisfies $|\pi| = 3$ and has some $A \in \pi$ with $|A| = m/2$.

        To complete the proof, we investigate to what ``extend $g$ is injective''.

        Assume $g(A, B, C) = g(A', B', C')$. As $B, C, B', C' \neq \emptyset$ and $|B \cup C| = |B' \cup C'| = m/2$, we see that $A = A'$.
        Further, we must then have that $\{ B, C \} = \{ B', C' \}$, hence $(A, B, C) = (A', B', C')$ or $(A, B, C) = (A', C', B')$ (clearly $B \neq C, B' \neq C'$).
        This shows that the map $g$ is 2-to-1.
        
        Using this, we find
        \begin{align*}
            |\partial \mathcal{A}| =& \frac 1 2 |\mathcal{G}| = \frac 1 2 \sum_{A \in [m]^{(m/2)}} |\{ (B, C) \ | \ \{ B, C \} \ \text{partition of} \ [m] \setminus A \}| \\
            =& \frac 1 2 \sum_{A \in [m]^{(m/2)}} 2 S(m/2, 2) = \sum_{A \in [m]^{(m/2)}} 2^{m/2 - 1} - 1 = {m \choose m/2} \left( 2^{m/2 - 1} - 1 \right)
        \end{align*}
    \end{proof}
    We can now plug this into the second condition of Prop.~\ref{prop:characterization_lym} to see
    \begin{align*}
        \frac {|\partial \mathcal{A}|} {|L_{m - 3}|} &= \frac {{m \choose m/2}\left( 2^{m/2 - 1} - 1\right)} {S(m, 3)} = \frac {{m \choose m/2}\left( 2^{m/2 - 1} - 1\right)} {\frac 1 2 \left( 3^{m - 1} - 2^m + 1 \right)} \\
        &\quad \sim \frac {2^{m + m/2}} {\sqrt{m}(3^{m - 1} - 2^m)} \sim \frac {3 \left( 2^{3/2} \right)^m} {\sqrt{m} 3^m} = \frac 3 {\sqrt{m}} c^m
    \end{align*}
    and
    \begin{align*}
        \frac {|\mathcal{A}|} {|L_{m - 2}|} &= \frac {\frac 1 2 {m \choose m/2}} {S(m, 2)} = \frac {{m \choose m/2}} {2^m - 2} \sim \frac {2^m} {\sqrt{m}2^m} = \frac 1 {\sqrt{m}}
    \end{align*}
    for some $0 < c < 1$ (here $\sim$ means asymptotically equivalent as $m \to \infty$).
    In particular, find for all $\epsilon > 0$ and sufficiently large $m$ that
    \begin{equation*}
        \frac {|\partial \mathcal{A}|} {|L_{m - 3}|} < \epsilon \frac {|\mathcal{A}|} {|L_{m - 2}|}
    \end{equation*}
    and so the conditions of Prop.~\ref{prop:characterization_lym} are not satisfied.
\end{example}

\section{Part V}
\begin{example}
    Let $\mathcal{P}_{k, d} := \{ 0, ..., k \}^d$ partially ordered by elementwise ordering.
    Then $\mathcal{P}_{k, d}$ is a graded poset with rank function
    \begin{equation*}
        r: \mathcal{P}_{k, d} \to \{ 0, ..., kd \}, \quad a \mapsto \sum_i a_i
    \end{equation*}
\end{example}
\begin{proof}
    First, we show that for $a < b$ have $r(a) < r(b)$.
    If $a < b$, then we find that $a_j \leq b_j$ for all $j$ and $a_i \neq b_i$, so $a_i < b_i$ for some $i$.
    Hence
    \begin{equation*}
        r(a) = \sum_j a_j = a_i + \sum_{j \neq i} a_j \leq a_i + \sum_{j \neq i} b_j < b_i + \sum_{j \neq i} b_j = \sum_j b_j = r(b)
    \end{equation*}
    Now assume that we have a maximal chain $a_1 < ... < a_t$ in $\mathcal{P}_{k, d}$.
    Since $\mathcal{P}_{k, d}$ has the smallest element $0 = (0, ..., 0)$ and the largest element $k = (k, ..., k)$, we see that $p_1 = 0$ and $p_t = k$.
    We want to show $t = kd + 1$, so it suffices to show that $r(a_i) = r(a_{i - 1}) + 1$ for all $0 < i \leq t$.

    Assume not, then 
    \begin{equation*}
        r(a_i) - r(a_{i - 1}) = \sum_j a_{ij} - a_{(i - 1)j} \geq 2
    \end{equation*}
    For all $j$ we have $a_{ij} \geq a_{(i - 1)j}$ and so there is $s \leq d$ with $a_{is} - a_{(i - 1)s} \geq 2$ or there are different $r, s \leq d$ with $a_{ir} - a_{(i - 1)r}, a_{is} - a_{(i - 1)s} \geq 1$.
    In both cases, find
    \begin{equation*}
        \tilde{a} \in \mathcal{P}_{k, d} \ \text{defined by} \ \tilde{a}_j = \begin{cases}
            a_{(i - 1)j} & \text{if $j \neq s$} \\
            a_{(i - 1)j} + 1 & \text{otherwise}
        \end{cases}
    \end{equation*}
    with $a_{i - 1} < \tilde{a} < a_i$. However, this gives a longer chain
    \begin{equation*}
        a_1 < ... < a_{i - 1} < \tilde{a} < a_i < ... < a_t
    \end{equation*}
    which contradicts the assumed maximality. The claim follows.
\end{proof}
\begin{definition}
    Let $P$ be a graded poset with layers $L_0, ..., L_n$.
    A symmetric chain in $P$ is a chain $C \subseteq P$ such that there is $i \leq n/2$ with
    \begin{equation*}
        \forall 0 \leq j \leq n: \ C \cap L_j \neq \emptyset \ \Leftrightarrow \ i \leq j \leq n - i
    \end{equation*}
    A decomposition $\mathcal{C}$ of $P$ into chains is called symmetric chain decomposition, if all $C \in \mathcal{C}$ are symmetric.
\end{definition}
Note that this definition is compatible with the definition of a symmetric chain for the classical graded poset $\powerset(n)$.
\begin{proposition}
    Let $k, d \geq 1$. Then $\mathcal{P}_{k, d}$ has a symmetric chain decomposition.
\end{proposition}
\begin{proof}
    Use induction on $d$.
    The base case $d = 1$ is trivial, so assume that $d > 1$.
    By induction hypothesis, have a symmetric chain decomposition $\mathcal{C}$ of $\mathcal{P}_{k, d - 1}$.
    Now consider some $C = \{ A_i, A_{i + 1}, ..., A_{d(k - 1) - i} \} \in \mathcal{C}, i < \frac n 2$ with $r(A_j) = j$.
    For each $0 \leq l \leq k, n - 2i - 1$ define the chain
    \begin{equation*}
        \tilde{C}_l := \{ \underbrace{(A_{i + l}, j)}_{\mathclap{:= (a_1, ..., a_{d - 1}, j) \ \text{if} \ A_{i + l} = (a_1, ..., a_{d - 1})}} \ | \ 0 \leq j \leq k - l \} \cup \{ (A_j, k - l) \ | \ i + l < j \leq d(k - 1) - (i + l) \}
    \end{equation*}
    Then $\tilde{C}_l$ is symmetric w.r.t. $i + l$, as for $i + l \leq j \leq dk - (i + l)$ we have
    \begin{align*}
        i + l \leq j \leq k + i \quad &\Rightarrow \quad (A_{i + l}, j - i - l) \in \tilde{C}_l, \\
        k + i < j \leq dk - (i + l) \quad &\Rightarrow \quad (A_{j - k}, k - l) \in \tilde{C}_l
    \end{align*}
    Clearly the $\tilde{C}_l$ are chains and disjoint.
    Hence, we find a symmetric chain decomposition
    \begin{equation*}
        \tilde{\mathcal{C}} := \Bigl\{ \tilde{C}_l \ \Bigm| \ C \in \mathcal{C} \ \text{symmetric chain w.r.t. $i$}, \ 0 \leq l \leq \min\{ k, n - 2i - 1 \} \Bigr\}
    \end{equation*}
    of $\mathcal{P}_{k, d}$.
\end{proof}
Note that for $k = 1$, this is exactly the proof that was done in the lecture to show that $\powerset(d)$ has a symmetric chain decomposition.

\section{Part VI}
First of all, in Example~\ref{ex:partitions_have_no_lym} we have already shown that the poset $\Pi_m$ does not satisfy the conditions from Prop.~\ref{prop:characterization_lym}.
Now we want to investigate whether $\mathcal{P}_{k, d}$ does. 
\begin{lemma}
    \label{prop:lp_algorithm}
    Let $P$ be a poset with layers $L_0, ..., L_d$.
    Fix $0 < l \leq d$ and let $L_{l - 1} = \{ u_1, ..., u_m \}, L_l = \{ v_1, ..., v_n \}$.

    Assume there exists a matrix $A = (a_{ij}) \in \Q_{\geq 0}^{m \times n}$ such that
    \footnote{We use $1 = (1, ..., 1)^T$ as the vector consisting of $1$ only here.}
    \begin{equation*}
        1^T A 1 = 1
    \end{equation*}
    and for all $i, j$
    \begin{equation*}
        e_i^T A 1 = \frac 1 {|L_0|} \quad \text{and} \quad 1^T A e_j = \frac 1 {|L_1|}
    \end{equation*}
    and $a_{ij} = 0$ whenever $u_i \not< v_j$ holds.

    Then the conditions of Prop.~\ref{prop:characterization_lym} hold for the poset $L_{l - 1} \cup L_l$.
    In particular, if the assumption holds for all $0 < l \leq d$, then the conditions of Prop.~\ref{prop:characterization_lym} hold for $P$.
\end{lemma}
\begin{proof}
    Let $A = (a_{ij}) \in \Q_{\geq 0}^{m \times n}$ be this matrix.
    Note that a maximal chain in $L_{l - 1} \cup L_l$ corresponds to a pair $u_i < v_j$.

    Now consider a (finite) sequence of maximal chains $(C_k)_{k \in I}$ such that the chain corresponding to $u_i < v_j$ occurs $a_{ij} |I|$ times.
    By the assumption, we know that for each $i$ have
    \begin{equation*}
        |\{k \ | \ u_i \in C_k\}| = \sum_{u_i < v_j} a_{ij}|I| = \frac 1 {|L_0|} |I|
    \end{equation*}
    and so each element $u_i \in L_{l - 1}$ is contained in the same number $|I| / |L_0|$ of chains $C_k$.

    Similarly, for each $J$ have
    \begin{equation*}
        |\{k \ | \ v_j \in C_k\}| = \sum_{v_j > u_i} a_{ij}|I| = \frac 1 {|L_1|} |I|
    \end{equation*}
    The claim follows.
\end{proof}
This lemma does not seem super useful at first, but it gives us a way to check in time polynomial in $O(|P|)$ whether a given poset $P$ satisfies the conditions from Prop.~\ref{prop:characterization_lym}, by using an LP solver.
Note that this is not easily possible when working directly with any of the three conditions defined before.

Using this, I could check that $\mathcal{P}_{k, d}$ indeed satisfies the conditions for reasonably sized $|\mathcal{P}_{k, d}|$ (up to $k = d = 6$).
Note that already for these ``small'' numbers, we get quite huge posets $|\mathcal{P}_{k, d}|$.
Hence, I believe that this is true for all $\mathcal{P}_{k, d}$.

My successful-looking attempt at proving this is based on the observation that elements of $\mathcal{P}_{k, d}$ ``behave similarly'' (in the sense that there is an element of the automorphism group $\mathrm{Aut}(\mathcal{P}_{k, d})$ mapping one to the other) if the have the same number of equally sized entries.
This looks promising, as the proof for $\powerset(n)$ relies on the fact that all elements in one layer of $\powerset(n)$ ``behave similarly'' in this sense.
In particular, note that Prop.~\ref{prop:biregular_implies_lym} would already be applicable in such a case.

This is formalized in the next definition.
\begin{definition}
    Let $P = \mathcal{P}_{k, d}$. Then define
    \begin{equation*}
        P(n_0, ..., n_k) := \bigl\{ x \in P \ \bigm| \ |\{i \ | \ x(i) = j\}| = n_j \bigl\}
    \end{equation*}
    Further, for any subset $F \subseteq P$ write
    \begin{equation*}
        F(n_0, ..., n_k) := F \cap P(n_0, ..., n_k)
    \end{equation*}
\end{definition}
\begin{lemma}
    \label{prop:properties_n_distribution_subsets}
    The size of $|P(n_0, ..., n_k)|$ is given by the multinomial coefficient
    \begin{equation*}
        |P(n_0, ..., n_k)| = { d \choose n_0, ..., n_k } =  \frac {d!} {n_0! ... n_k!}
    \end{equation*}
    if $n_0 + ... + n_k = d$ and $n_i \geq 0$ (otherwise, it is clearly zero).

    Further, for all $n_0, ..., n_k \in \Z$ with $\sum n_i = d$ and all $a \in P(n_0, ..., n_k), 0 \leq \delta < k$ have
    \begin{align*}
        |\partial a \cap P(n_0, ..., n_\delta + 1, n_{\delta + 1} - 1, ..., n_k)| &= n_{\delta + 1}, \\
        |\partial^+ a \cap P(n_0, ..., n_\delta - 1, n_{\delta + 1} + 1, ..., n_k)| &= n_\delta
    \end{align*}
    even if any of the $n_i$ are negative.
\end{lemma}
\begin{proof}
    For $n_0 + ... + n_k = d$ and $n_i \geq 0$ we have
    \begin{align*}
        &|P(n_0, ..., n_k)| = |\bigl\{ x \in P \ \bigm| \ |\{i \ | \ x(i) = j\}| = n_j\bigl\}| \\
        =& \sum_{A_0 \in [d]^{(n_0)}} |\bigl\{ x \in \{0, ..., k\}^{[d] \setminus A_0} \ \bigm| \ |\{i \ | \ x(i) = j\}| = n_j\bigl\}| \\
        =& \sum_{A_0 \in [d]^{(n_0)}} \sum_{A_1 \in ([d] \setminus A_0)^{(n_1)}} |\bigl\{ x \in \{0, ..., k\}^{[d] \setminus A_0 \setminus A_1} \ \bigm| \ |\{i \ | \ x(i) = j\}| = n_j\bigl\}| \\
        =& \ ... \\
        =& \sum_{A_0 \in [d]^{(n_0)}} ... \sum_{A_k \in ([d] \setminus A_0 \setminus ... \setminus A_{k - 1})^{(n_k)}} 1 \\
        =& \sum_{A_0 \in [d]^{(n_0)}} ... \sum_{A_{k - 1} \in ([d] \setminus A_0 \setminus ... \setminus A_{k - 2})^{(n_k)}} {d - n_0 - ... - n_{k - 1} \choose n_k} \\
        =& \ ... \\
        =& {d \choose n_0} {d - n_0 \choose n_1} ... {d - n_0 - ... - n_{k - 1} \choose n_k} = \prod_i \frac {(d - n_0 - ... - n_{i - 1})!} {n_i! (d - n_0 - ... - n_i!)} \\
        =& \frac {d!} {n_0! ... n_k!} \prod_i \frac {(d - n_0 - ... - n_i)!} {(d - n_0 - ... - n_i)!} = \frac {d!} {n_0! ... n_k!}
    \end{align*}
    Further have for all $n_0 + ... + n_k = d$ and $a \in P(n_0, ..., n_k)$ that there is a bijection
    \begin{align*}
        \{ i \in [d] \ | \ a(i) = \delta + 1 \} &\to \partial a \cap P(n_0, ..., n_\delta + 1, n_{\delta + 1} - 1, ..., n_k), \\
        i &\mapsto f_{a, i}: j \mapsto \begin{cases}
            a(j) & \text{if $j \neq i$} \\
            a(j) - 1 & \text{otherwise}
        \end{cases}
    \end{align*}
    It is easy to see that the image of some $i$ is indeed an element of $\partial a$ and of $P(n_0, ..., n_\delta + 1, n_{\delta + 1} - 1, ..., n_k)$.
    Clearly the function is also injective, and surjectivity can be shown by considering some $b \in \partial a \cap P(n_0, ..., n_\delta + 1, n_{\delta + 1} - 1, ..., n_k)$ and showing by induction that
    \begin{equation*}
        \{ i \ | \ b(i) = j \} = \{ i \ | \ a(i) = j \}
    \end{equation*}
    for all $j \neq \delta, \delta + 1$.
    Note that the set $\{ i \in [d] \ | \ a(i) = \delta + 1 \}$ has size exactly $n_{\delta + 1}$ and so the claim follows.

    The analogue statement for the upper shadow of $a$ can be proven in the same way.
\end{proof}
\begin{definition}
    Define the \emph{core} of $\mathcal{P}_{k, d}$ as the poset
    \begin{equation*}
        \mathcal{C}_{k, d} := \{ (n_0, ..., n_k) \ | \ n_0 + ... + n_k = d \}
    \end{equation*}
    whose partial order is the transitive closure of the relation $\prec$ defined by
    \begin{align*}
        (n_0, ..., n_k) \prec (m_0, ..., m_k) \ :\Leftrightarrow \ \exists 0 \leq \delta < k: \ &m_\delta = n_\delta - 1, \ m_{\delta + 1} = n_{\delta + 1} - 1, \\
        &\forall i \neq \delta, \delta + 1: m_i = n_i 
    \end{align*}
\end{definition}
\begin{lemma}
    The layers of $\mathcal{C}_{k, d}$ are
    \begin{equation*}
        L_i = \{ (n_0, ..., n_k) \ | \ \sum_j j n_j = i \}
    \end{equation*}
    Further, we have a surjective map
    \begin{equation*}
        R: \mathcal{P}_{k, d} \to \mathcal{C}_{k, d}, \quad A \mapsto \bigl( |\{j \ | \ A(j) = i\}| \bigr)_{0 \leq i \leq k}
    \end{equation*}
    that preserves the ordering and the fibre of a point $(n_0, ..., n_k)$ is exactly $P(n_0, ..., n_k)$.
\end{lemma}
\begin{proof}
    All of these statements are very easy to check.
\end{proof}

\begin{proposition}
    \label{prop:core_of_multisets}
    Assume that $\mathcal{C}_{k, d}$ satisfies a ``scaled variant'' of condition (3) of Prop.~\ref{prop:characterization_lym}, namely:
    There exists a (finite) sequence $C'_1, ..., C'_t$ of maximal chains such that for a chain $C'$ chosen uniformly at random among them, we have
    \begin{equation*}
        \Pr[ (n_0, ..., n_k) \in C' ] = \frac {|P(n_0, ..., n_k)|} {|L_{\sum_i i n_i}|}
    \end{equation*}
    Then $\mathcal{P}_{k, d}$ satisfies the conditions of Prop.~\ref{prop:characterization_lym}.
\end{proposition}
\begin{proof}
    Denote the layers of $\mathcal{P}_{k, d}$ by $L_k$ and the layers of $\mathcal{C}_{k, d}$ by $L'_k$.

    Now consider a chain $C'_i$ from the assumption.
    Note that by Lemma~\ref{prop:properties_n_distribution_subsets}, we see that for $(n_0, ..., n_k) \in C'_i$ have
    \begin{itemize}
        \item Every element in $P(n_0, ..., n_k)$ is covered by $n_\delta$ elements
        \item Every element in $P(n_0, ..., n_k)$ covers $n_{\delta + 1}$ elements
    \end{itemize}
    The $P(n_0, ..., n_k)$ are exactly the layers of the poset $P'_i := \bigcup_{c \in C'_i} P(c)$.
    Hence Prop.~\ref{prop:biregular_implies_lym} yields that there is a sequence of maximal chains
    \begin{equation*}
        C_{i, 1}, ..., C_{i, t_i}
    \end{equation*}
    in the poset $P'_i$ such that each element in $P(n_0, ..., n_k)$ is contained in $t_i/|P(n_0, ..., n_k)|$ of them.
    Note that $R(C_{i, j}) := \{ R(x) \ | \ x \in C_{i, j} \} = C'_i$ holds.

    Now consider a sequence $(C_{i_h, j_h})_{h \in I}$ of maximal chains in the poset $A'$ that consists of the $C_{i, j}$ such that one $C_{i, j}$ occurs $\frac 1 {t t_i} |I|$ times.
    Let $H$ be a random variable distributed uniformly on $I$.
    Observe that then $i_H$ is a random variable distributed uniformly on $1, ..., t$.

    Let $x \in L_k$ with $x \in P(n_0, ..., n_k)$.
    Then
    \begin{align*}
        \Pr[x \in C_{i_H, j_H}] =& \sum_{1 \leq i \leq t} \Pr[x \in C_{i_H, j_H} \ | \ i_H = i] \ \Pr[i_H = i] \\
        =& \sum_{1 \leq i \leq t} \underbrace{\Pr[x \in C_{i_H, j_H} \ | \ i_H = i]}_{ = 1 / |P(n_0, ..., n_k)| \ \text{if $(n_0, ..., n_k) \in C'_i$}} \frac 1 t \\
        =& \sum_{\substack{1 \leq i \leq t\\(n_0, ..., n_k) \in C'_i}} \frac 1 {|P(n_0, ..., n_k)| t} \\
        =& \frac t {|P(n_0, ..., n_k)| t} \underbrace{\Pr[(n_0, ..., n_k) \in C'_{i_H}]}_{= |P(n_0, ..., n_k)| / |L_k| \ \text{by assumption}} = \frac 1 {|L_k|}
    \end{align*}

    Clearly, this shows that condition (3) of Prop.~\ref{prop:characterization_lym} is satisfied by $(C_{i_h, j_h})_{h \in I}$ for $\mathcal{P}_{k, d}$.
\end{proof}
After some reflection, one can observe that we did not really use any properties of $\mathcal{P}_{k, d}$.
The fact that all elements in $P(n_0, ..., n_k)$ cover resp. are covered by the same number of elements requires only that $P(n_0, ..., n_k)$ is an orbit under the action of $\mathrm{Aut}(P)$, i.e. $P(n_0, ..., n_k) = \mathrm{Aut}(P).a$ for any $a \in P(n_0, ..., n_k)$
(where the dot $.$ denotes the group action of $\mathrm{Aut}(P)$ on $P$).

Hence, we get the following statement.
\begin{proposition}
    Let $P$ be a graded poset. Define the \emph{core} $\mathcal{C}(P)$ of $P$ as the set of orbits under the action of $\mathrm{Aut}(P)$ 
    \begin{equation*}
        \mathcal{C}(P) := \{ \mathrm{Aut}(P).x \ | \ x \in P \}
    \end{equation*}
    with the induced partial ordering from the elements of each orbit, i.e.
    \begin{equation*}
        A < B \ :\Leftrightarrow \ \exists a \in A, b \in B: a < b
    \end{equation*}
    for $A, B \in \mathcal{C}(P)$.
    
    If there exists a sequence of maximal chains $C'_1, ..., C'_t$ in $\mathcal{C}(P)$ such that for a chain $C$ chosen uniformly at random from among them, have
    \begin{equation*}
        \Pr[A \in C] = \frac {|A|} {|L_{r(A)}|}
    \end{equation*}
    for all $A \in \mathcal{C}(P)$, then $P$ satisfies the conditions of Prop.~\ref{prop:characterization_lym}.
\end{proposition}
\begin{proof}
    Exactly as above.
\end{proof}
I still do not know how to use this to prove that $\mathcal{P}_{k, d}$ does indeed satisfy Prop.~\ref{prop:characterization_lym}, but at least it provides a way for an even faster algorithm to test it for specific $k, d$.
The idea is just that we can adjust the LP algorithm from Lemma~\ref{prop:lp_algorithm} to check the scaled variant, and so we get a polynomial time algorithm in $|\mathcal{C}_{k, d}|$.
In particular, we have the following.
\begin{lemma}
    Let $L_{l - 1} = \{u_1, ..., u_m\}$ and $L_l = \{v_1, ..., v_n\}$ be two consecutive layers of $\mathcal{C}_{k, d}$.
    Assume there exists a matrix $A = (a_{ij}) \in \Q_{\geq 0}^{m \times n}$ such that 
    \begin{equation*}
        1^T A 1 = 1
    \end{equation*}
    and for all $i, j$
    \begin{equation*}
        e_i^T A 1 = \frac {|P(u_i)|} {\sum_{u \in L_{l - 1}} |P(u)|} \quad \text{and} \quad 1^T A e_j = \frac {|P(v_j)|} {\sum_{v \in L_l} |P(v)|}
    \end{equation*}
    and $a_{ij} = 0$ whenever $u_i \not< v_j$ holds.

    Then the assumption of Prop.~\ref{prop:core_of_multisets} is fulfilled for $L_{l - 1} \cup L_l$.
    In particular, if this holds for all $0 < l \leq kd$ then the assumption is fulfilled for the whole of $\mathcal{C}_{k, d}$ and it follows that $\mathcal{P}_{k, d}$ satisfies the conditions of Prop.~\ref{prop:characterization_lym}.
\end{lemma}
\begin{proof}
    Exactly as in Lemma~\ref{prop:lp_algorithm}.
\end{proof}
Using a simple implementation of this approach, I could check that for some arbitrarily chosen values of $k, d$ up to $(k, d) = (8, 9)$, the poset $\mathcal{P}_{k, d}$ indeed satisfies the conditions of Prop.~\ref{prop:characterization_lym}.

After quite a long time trying to prove that $\mathcal{P}_{k, d}$ satisfies an LYM-inequality analogue, I finally gave up and searched the literature.
There I found that $\mathcal{P}_{k, d}$ is also called divisor lattice and indeed we have the following statement.
\begin{proposition}
    $\mathcal{P}_{k, d}$ satisfies the conditions of Prop.~\ref{prop:characterization_lym}, i.e. an LYM-inequality.
\end{proposition}
\begin{proof}
    See e.g. \cite[Theorem 4.2.3]{anderson}.
\end{proof}
Interestingly, I have also found a variant of the LYM inequality for the poset $\Pi_m$ that we studied earlier.
\begin{proposition}
    Let $\mathcal{A} \subseteq \Pi_m$ be a nonempty antichain. Then define
    \begin{equation*}
        a_{n_1, ..., n_k} := |\bigl\{ A \in \mathcal{A} \ \bigm| \ |A| = k, \ |\{ S \in A \ | \ |S| = j \}| = n_j \bigr\}|
    \end{equation*}
    the number of partitions $A \in \mathcal{A}$ such that the classes in $A$ have sizes $n_1, ..., n_k$.
    Then
    \begin{equation*}
        \sum_{k \geq 1} \sum_{n_1, ..., n_k} \frac {a_{n_1, ..., n_k} k!} {{m \choose n_1, ..., n_k} {m - 1 \choose k - 1}} \leq 1
    \end{equation*}
\end{proposition}
\begin{proof}
    See \cite{lym_partitions}.
\end{proof}

\section{Appendix (Code described in Part VI)}
To find the computational results mentioned above, I have implemented the described algorithm in Rust.
For this, I use my own library containing a collection of math functions as well as Mosek LP solver \cite{mosek} and its rust binding library.
After installing the Mosek binaries manually, it therefore suffices to add
\begin{lstlisting}
    feanor_la = { 
        git = "https://github.com/feanorTheElf/FeanorLA.git"  
    }
    mosek = "0.2"
\end{lstlisting}
to the dependencies of your \texttt{Cargo.toml} file.

After all dependencies are present, the following code will yield the result.
\lstinputlisting[language = rust]{./src/main.rs}

\printbibliography
\end{document}