\documentclass{scrartcl}

\usepackage{graphicx}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{listings}
\usepackage[style=english]{csquotes}
\usepackage[language=english, backend=biber, style=alphabetic, sorting=nyt]{biblatex}

\addbibresource{bibliography.bib}

\title{Miniproject - Combinatorics}
\author{Simon Pohmann}
\date{}

\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\powerset}{\mathfrak{P}}

\newcommand\restr[2]{{
    \left.\kern-\nulldelimiterspace
    #1
    \vphantom{\big|}
    \right|_{#2}
}}

\theoremstyle{definition}
\newtheorem{definition}{Definition}
\newtheorem{lemma}[definition]{Lemma}
\newtheorem{remark}[definition]{Remark}
\newtheorem{proposition}[definition]{Proposition}
\newtheorem{example}[definition]{Example}
\newtheorem{corollary}[definition]{Corollary}

\begin{document}
\maketitle

We use the convention that $\N = \{ n \in \Z \ | \ n \geq 0 \}$.

\section{Part I}

\begin{proposition}
    \label{prop:definition_rank_function}
    Let $P$ be a graded poset in which every maximal chain has length $n + 1$. Then the function
    \begin{equation*}
        r: P \to \{ 0, ..., n \}, \quad x \mapsto \max\{ k \in \N \ | \ \exists a_1, ..., a_k \in P: \ a_1 < a_2 < ... < a_k < x \}
    \end{equation*}
    is well-defined and the unique function with $x < y$ implies $r(x) < r(y)$ for all $x, y \in P$.
    We call it the \emph{rank function} of $P$.
\end{proposition}
\begin{proof}
    Clearly $r$ is well-defined, as for every increasing sequence $a_1 < ... < a_k < x$, we have the chain $C := \{ a_1, ..., a_k, x \}$ of size $k + 1$.
    Hence by assumption, $k \leq n$ and so $r(x)$ is finite and in $\{ 0, ..., n \}$.

    Further, consider $x < y$ in $P$.
    We have a sequence $a_1 < ... < a_{r(x)} < x$ by definition of $r$.
    It follows that there is an increasing sequence $a_1 < ... < a_{r(x)} < x < y$ and so $r(y) \geq r(k) + 1 > r(x)$.

    Lastly, assume there was another function $r': P \to \{ 0, ..., n \}$ with this property.
    Consider any $x \in P$.
    By definition of $r$, there is an increasing sequence $a_1 < ... < a_{r(x)} < x$ in $P$.
    Now consider a maximal chain $C$ containing the chain $\{ a_1, ..., a_{r(x)}, x \}$.

    Say $C = \{ b_1, ..., b_{n + 1} \}$ with $b_1 < ... < b_{n + 1}$ and $x = b_j$.
    Note that we have the increasing sequence $b_1 < ... < b_{j - 1} < b_j = x$ and so by the definition of $r$, find $j \leq r(x) + 1$.
    On the other hand, have $a_1, ..., a_{r(x)} \in C$ and thus $j = r(x) + 1$, i.e.
    \begin{equation*}
        a_1 = b_1, \ ..., \ a_{r(x)} = b_{r(x)}, \ x = b_{r(x) + 1}
    \end{equation*}
    As $b_i < b_{i + 1}$, we know that $r'(b_i) < r'(b_{i + 1})$ and inductively, we see $r'(b_i) \geq i - 1$.
    However, $r'(b_{n + 1}) \leq n$ and thus $r'(b_i) = i - 1$.
    Finally it follows that $r'(x) = r'(b_{r(x) + 1}) = r(x)$.
\end{proof}
Now we will show some basic properties of the rank function.
\begin{proposition}
    Let $P$ be a graded poset of maximal rank $n$ with rank function $r$.
    Then
    \begin{itemize}
        \item $x \in P$ is minimal iff $r(x) = 0$ and maximal iff $r(x) = n$.
        \item If $x < y$ and $r(x) + 1 \neq r(y)$ then there is $z \in P$ with $x < z < y$.
        \item If $x < y$ then there is an increasing sequence $x < a_1 < ... < a_{r(y) - r(x) - 1} < y$ in $P$. 
    \end{itemize}
\end{proposition}
\begin{proof}
    For (i), let $x \in P$ be minimal. Then there is no increasing sequence $a_1 < x$ in $P$, so $r(x) \leq 0$.
    Conversely, let $r(x) = 0$. Assume there was $y \in P$ with $y < x$, then $r(y) < r(x) = 0$, a contradiction.
    The analogous statement for maximal elements is proved in the same way.
    
    For (iii), consider $x < y$ in $P$. Then the chain $\{ x, y \}$ is contained in a maximal chain $C \subseteq P$.
    Say $C = \{ b_1, ..., b_{n + 1} \}$ with $b_1 < ... < b_{n + 1}$.

    Hence we find $r(b_i) < r(b_{i + 1})$ and so inductively that $r(b_i) \geq i - 1$ and $r(b_i) \leq i - 1$ since $r(b_1) \geq 0$ and $r(b_{n + 1}) \leq n$.
    It follows that $r(b_i) = i - 1$ and so $x = b_{r(x) + 1}, y = {r(y) + 1}$.
    Therefore, we have a chain
    \begin{equation*}
        x < b_{r(x) + 2} < ... < b_{r(y)} < y
    \end{equation*}
    of length $r(y) - r(x) - 1$.
    Statement (ii) follows directly, as in this setting, have $r(y) \geq r(x) + 2$ and so $r(y) - r(x) - 1 \neq 0$.
\end{proof}

\section{Part II}
\begin{proposition}
    \label{prop:characterization_lym}
    For a graded poset $P$ with layers $L_0, ..., L_n$ the following statements are equivalent:
    \begin{itemize}
        \item For every antichain $A \subseteq P$ have
        \begin{equation*}
            \sum_{i = 0}^n \frac {|A \cap L_i|} {|L_i|} \leq 1
        \end{equation*}
        \item For each $1 < i \leq n$ and $F \subseteq L_i$ have
        \begin{equation*}
            \frac {|\partial F|} {|L_{i - 1}|} \geq \frac {|F|} {|L_i|}
        \end{equation*}
        where
        \begin{equation*}
            \partial F := \{ a \in L_{i - 1} \ | \ \exists b \in F: \ a \leq b \}
        \end{equation*}
        \item There exists a (nonempty) sequence of maximal chains $C_1, ..., C_t$ such that for all $1 \leq i \leq n$ we have:
        \begin{equation*}
            |\{ j \ | \ x \in C_j \}| = |\{ j \ | \ y \in C_j \}| \ \text{for all $x, y \in L_i$}
        \end{equation*}
    \end{itemize}
\end{proposition}
\begin{proof}
    Show the directions (ii) $\Rightarrow$ (iii) $\Rightarrow$ (i) $\Rightarrow$ (ii)
    \paragraph{(ii) $\Rightarrow$ (iii)} Use induction on $n$.
    Again, the base case is trivial, just take chains $\{x\}$ for each $x \in A = L_0$.
    So assume that $n > 0$. The set
    \begin{equation*}
        A' := \bigcup_{i = 0}^{n - 1} L_i
    \end{equation*}
    is a graded poset of maximal rank $n - 1$, and hence there are maximal chains $C_1, ..., C_t \subseteq A'$ such that for all $1 \leq i \leq n - 1$ have
    \begin{equation*}
        |\{j \ | \ x \in C_j\}| = |\{j \ | \ y \in C_j\}| \ \text{for all $x, y \in L_i$}
    \end{equation*}
    by induction hypothesis.
    Let now $V_1, V_2 := [t] \times L_n$ (treat them as disjoint) and consider the bipartite graph $G := (V_1 \sqcup V_2, E)$ where $E$ is defined as follows:
    \begin{equation*}
        \{ \underbrace{(i, a)}_{\in V_1}, \underbrace{(j, b)}_{\in V_2} \} \in E \ \Leftrightarrow \ \max C_j < a
    \end{equation*}
    We use Hall's theorem to show that $G$ has a perfect matching.

    Consider any $W = \{ (i_1, a_1), ..., (i_w, a_w) \} \subseteq V_1$ and let $F = \{ a_1, ..., a_w \}$.
    Then
    \begin{equation*}
        W \subseteq [t] \times F \ \Rightarrow \ |W| \leq t|F|
    \end{equation*}
    By choice of $C_1, ..., C_t$, we have that the number of $j$ with $x \in C_j$ is the same for all $x \in L_{n - 1}$, say $k$.
    Since the $C_i$ are maximal chains, each intersects $L_{n - 1}$ in exactly one element.
    So have bijection
    \begin{align*}
        \{ (x, i) \ | \ x \in L_{n - 1}, 1 \leq i \leq t, x \in C_i\} \to \{ i \ | \ 1 \leq i \leq t \}, \quad (x, i) \mapsto i
    \end{align*}
    where the set on the left-hand side has size $k |L_{n - 1}|$. It follows that $k|L_{n - 1}| = t$.

    Since $\max C_j \in L_{n - 1}$ for all $j$, we have
    \begin{align*}
        N(W) =& \{ (j, b) \ | \ b \in L_n, \exists a \in F: \max C_j < a \} \\
        =& L_n \times \{ j \ | \ \exists a \in F: \max C_j < a \} \\
        =& L_n \times \{ j \ | \ \max C_j \in \partial F \}
    \end{align*}
    and so by the above
    \begin{align*}
        |N(W)| = |L_n| \sum_{\max C_j \in \partial F} 1 = |L_n| \sum_{x \in \partial F} \sum_{x \in C_j} 1 = |L_n| \sum_{x \in \partial F} k = |L_n| |\partial F| k
    \end{align*}
    Together with the assumption that $|\partial F| |L_n| \geq |F| |L_{n - 1}|$ we see that
    \begin{equation*}
        |W| \leq t |F| = k |L_{n - 1}| |F| \leq k |\partial F| |L_n| = |N(W)|
    \end{equation*}
    So Hall's theorem yields a perfect matching $M \subseteq E$ from $V_1$ to $V_2$.
    As $|V_1| = |V_2|$, this is already a 1-to-one correspondence.

    Now consider the sets
    \begin{equation*}
        C'_m := C_j \cup \{ a \} \ \text{where} \ m = \{\underbrace{(i, a)}_{\in V_1}, \underbrace{(j, b)}_{\in V_2}\} \in M
    \end{equation*}
    These are chains, as $\max C_j < a$ for each $C'_m$.
    Further, for each $x, y \in L_i, i < n$ have that
    \begin{equation*}
        |\{ C'_m \ | \ x \in C'_m \}| = |L_n \times \{ j \ | \ x \in C_j \}| = |L_n \times \{ j \ | \ y \in C_j \}| = |\{ C'_m \ | \ y \in C'_m \}|
    \end{equation*}
    as $M$ is a matching from $V_2$ to $V_1$.
    Finally, for all $x \in L_n$ we have that
    \begin{align*}
        |\{ C'_m \ | \ x \in C'_m \}| =& |\{ m \in M \ | \ \exists i, v \in V_2: m = \{ (i, x), v \} \}| = |\{ (i, x) \ | \ (i, x) \in V_1 \}| = t
    \end{align*}
    as $M$ is a matching from $V_1$ to $V_2$.

    \paragraph{(iii) $\Rightarrow$ (i)} Let $C_1, ..., C_t$ be a sequence of maximal chains given by the assumption.
    For $1 \leq i \leq n$ let $k_i$ be the number of different $j$ such that a fixed element $x \in L_i$ is contained in exactly the $C_j$.
    By assumption, this does not depend on $x$.

    As in the direction above, we see that $k_i |L_i| = t$ because each $C_j$ intersects $L_i$ in exactly one element, so there is a bijection
    \begin{align*}
        \{ (x, j) \ | \ x \in L_i, 1 \leq j \leq t, x \in C_j\} \to \{ j \ | \ 1 \leq j \leq t \}, \quad (x, j) \mapsto j
    \end{align*}
    and the set on the left has size $k_i |L_i|$.

    Since each $C_j$ is a chain and $A$ is an antichain, we find that $A$ and $C_j$ intersect in at most one element.
    So
    \begin{align*}
        t \geq& |\{ j \ | \ A \cap C_j \neq \emptyset \}| = \sum_{a \in A} |\{ j \ | \ a \in C_j \}| = \sum_{i = 0}^n \ \sum_{a \in A \cap L_i} |\{ j \ | \ a \in C_j \}| \\
        =& \sum_{i = 0}^n \ \sum_{a \in A \cap L_i} k_i = \sum_{i = 0}^n k_i |A \cap L_i| = \sum_{i = 0}^n \frac {|A \cap L_i|} {|L_i|} t
    \end{align*}
    The claim follows by canceling $t$.

    \paragraph{(i) $\Rightarrow$ (ii)}
    Consider $A := F \cup (L_{i - 1} \setminus \partial F)$.
    This is clearly an antichain, as for $x \in F, y \in L_{i - 1} \setminus \partial F$ have $y \not< x$.
    However, $r(y) < r(x)$ so also $x \not< y$, thus $x$ and $y$ are incomparable.
    Clearly elements from the same layer are incomparable.

    Thus, the assumption yields that
    \begin{equation*}
        \frac {|L_{i - 1}| - |\partial F|} {|L_{i - 1}|} + \frac {|F|} {|L_i|} = \frac {|A \cap L_{i - 1}|} {|L_{i - 1}|} + \frac {|A \cap L_i|} {|L_i|} = \sum_{j = 0}^n \frac {|A \cap L_j|} {|L_j|} \leq 1
    \end{equation*}
    This gives
    \begin{equation*}
        1 + \frac {|F|} {|L_i|} \leq 1 + \frac {|\partial F|} {|L_{i - 1}|}
    \end{equation*}
    and the claim follows.
\end{proof}

\section{Part III}
We even show the slightly stronger stronger statement that the implication to the second condition of Prop.\ref{prop:characterization_lym} already holds ``locally'', i.e. for each layer separately.
\begin{proposition}
    Let $P$ be a graded poset with layers $L_0, ..., L_n$ and let $0 < i \leq n$ such that
    \begin{itemize}
        \item Each element $a \in L_i$ covers the same number of elements in $L_{i - 1}$
        \item Each element $a \in L_{i - 1}$ is covered by the same number of elements in $L_i$
    \end{itemize}
    Then for each $F \subseteq L_i$ have
    \begin{equation*}
        \frac {|\partial F|} {|L_{i - 1}|} \geq \frac {|F|} {|L_i|}
    \end{equation*}
    In particular, if this is true for all $i$, then all the equivalent conditions from Prop.~\ref{prop:characterization_lym} follow.
\end{proposition}
\begin{proof}
    Assume that for all $a \in L_i$
    \begin{equation*}
        |\{ b \in L_{i - 1} \ | \ \text{$a$ covers $b$} \}| = k \in \N
    \end{equation*}
    and for all $b \in L_{i - 1}$
    \begin{equation*}
        |\{ a \in L_i \ | \ \text{$a$ covers $b$} \}| = l \in \N
    \end{equation*}
    Double-counting pairs $(a, b) \in L_i \times L_{i - 1}$ such that $a$ covers $b$ yields $k|L_i| = l|L_{i - 1}|$.
    Now consider $F \subseteq L_i$.
    Note that by definition of $\partial F$, we have for all $a \in F$ that
    \begin{equation*}
        \{ b \in \partial F \ | \ \text{$a$ covers $b$} \} = \{ b \in L_{i - 1} \ | \ \text{$a$ covers $b$} \} = \partial \{a\} \subseteq \partial F
    \end{equation*}
    Again by double-counting pairs $(a, b) \in F \times \partial F$ such that $a$ covers $b$, we find
    \begin{align*}
        k|F| =& \sum_{a \in F} k = \sum_{a \in F} |\{ b \in L_{i - 1} \ | \ \text{$a$ covers $b$} \}| = \sum_{a \in F} |\{ b \in \partial F \ | \ \text{$a$ covers $b$} \}| \\
        =& |\{ (a, b) \in F \times \partial F \ | \ \text{$a$ covers $b$} \}| = \sum_{b \in \partial F} |\{ a \in F \ | \ \text{$a$ covers $b$}\}| \\
        \leq& \sum_{b \in \partial F} |\{ a \in L_i \ | \ \text{$a$ covers $b$}\}| = \sum_{b \in \partial F} l = l |\partial F|
    \end{align*}
    Hence
    \begin{equation*}
        \frac {|\partial F|} {|L_{i - 1}|} = \frac {l |\partial F|} {l |L_{i - 1}|} \leq \frac {k |F|} {k |L_i|} = \frac {|F|} {|L_i|}
    \end{equation*}
\end{proof}

\section{Part IV}
\begin{example}
    Let $\Pi_m = \{ \pi \subseteq \powerset(n) \ | \ \text{$\pi$ partition} \}$ be the poset of partitions ordered by refinement.
    Then $\Pi$ is a graded poset with rank function
    \begin{equation*}
        r: \Pi \to \{ 0, ..., n - 1 \}, \quad \pi \mapsto n - |\pi|
    \end{equation*}
\end{example}
\begin{proof}
    First of all, have $1 \leq |X| \leq n$ for all subsets $X \subseteq \powerset(n)$, hence the function $r$ is well-defined.
    Next we show that for all $x < y$ have $r(x) < r(y)$.
    However, if $x$ is a proper refinement of $y$, then clearly $|x| > |y|$, so $r(x) < r(y)$.

    Now assume there is a maximal chain $\pi_1 < ... < \pi_t$ in $\Pi$.
    As the chain is maximal and $\Pi$ has the maximal element $[n]$, we may assume that $\pi_t = [n]$ and thus $r(\pi_t) = n - 1$.
    Similarly, we may assume that $p_1 = \powerset(n)$ and so $r(\pi_1) = 0$.
    We have to show that $t = n$, and so it suffices to show that $r(\pi_i) = 1 + r(\pi_{i - 1})$ for all $0 < i \leq t$.

    Assume not, i.e. $|\pi_{i - 1}| \geq 2 + |\pi_i|$ for some $0 < i \leq t$.
    Since $\pi_{i - 1}$ is a refinement of $\pi_i$, we find that
    \begin{equation*}
        \pi_{i - 1} = \{ A_{11}, ..., A_{1m_1}, \ ..., \ A_{n1}, ..., A_{nm_n} \} \quad \text{with} \quad \pi_i = \Bigl\{ \bigcup_{j \leq m_1} A_{1j}, ..., \bigcup_{j \leq m_n} A_{nj} \Bigr\}
    \end{equation*}
    where $n = |\pi_i|$ and $\sum_j m_j = |\pi_{i - 1}| \geq 2 + n$.
    Hence, for at least two different $s, r \leq n$ we have $m_s, m_r \geq 2$.
    Now define
    \begin{equation*}
        \tilde{\pi} := \{ A_{jk} \ | \ j \neq s \} \cup \Bigl\{ \bigcup_{j \leq m_s} A_{sj} \Bigr\}
    \end{equation*}
    Then clearly $\pi_{i - 1} < \tilde{\pi} \leq \pi_i$.
    However, we know that $\bigcup_j A_{rj} \in \pi_i$ but $\bigcup_j A_{rj} \notin \tilde{\pi}$.
    Thus $\pi_{i - 1} < \tilde{\pi} < \pi_i$ and we found a longer chain
    \begin{equation*}
        \pi_1 < ... < \pi_{i - 1} < \tilde{\pi} < \pi_i < ... < \pi_t
    \end{equation*}
    which contradicts the assumed maximality. The claim follows.
\end{proof}
\begin{proposition}
    \label{prop:partitions_recursion}
    For the number $S(m, k) := |\{ \pi \in \Pi \ | \ |\pi| = k\}|$ we have recursion
    \begin{equation*}
        S(m, 1) = 1 \quad \text{and} \quad S(m, k) = \sum_{n = 1}^{m - 1} {m - 1 \choose n} S(n, k - 1)
    \end{equation*}
    where $1 \leq k \leq m$.
\end{proposition}
\begin{proof}
    Use induction on $k$. 
    The base case $k = 1$ is trivial, so let $k > 1$.
    For any partition $\pi \in \Pi_m$, denote by $A(1, \pi)$ the unique set $A \in \pi$ with $1 \in A$.
    We find
    \begin{align*}
        S(m, k) =& |\{ \pi \in \Pi_m \ | \ |\pi| = k \}| = \Bigl| \bigcup_{\emptyset \neq A \subseteq [m], \ 1 \in A} \{ \pi \in \Pi_m \ | \ |\pi| = k, A(1, \pi) = A \} \Bigr| \\
        =& \sum_{\emptyset \neq A \subseteq [m], \ 1 \in A} |\{ \pi \in \Pi_m \ | \ |\pi| = k, A(1, \pi) = A \}| \\
        =& \sum_{\emptyset \neq A \subseteq [m], \ 1 \in A} |\{ \pi \in \Pi_m \ | \ |\pi \setminus \{A\}| = k - 1, A(1, \pi) = A\}| \\
        =& \sum_{\emptyset \neq A \subseteq [m], \ 1 \in A} |\{ \pi \in \Pi_{m - |A|} \ | \ |\pi| = k - 1 \}| \\
        =& \sum_{i = 1}^m \ \sum_{A \subseteq [m], \ |A| = i, \ 1 \in A} |\{ \pi \in \Pi_{m - i} \ | \ |\pi| = k - 1 \} \\
        =& \sum_{i = 1}^m {m - 1 \choose i - 1} S(m - i, k - 1) = \sum_{i = 0}^{m - 1} {m - 1 \choose m - i - 1} S(i, k - 1) \\
        =& \sum_{i = 1}^{m - 1} {m - 1 \choose i} S(i, k - 1)
    \end{align*}
    as for $k > 1$ have that $S(0, k) = 0$.
\end{proof}
\begin{example}
    Have for $m \geq 3$ that
    \begin{equation*}
        S(m, 2) = 2^{m - 1} - 1 \quad \text{and} \quad S(m, 3) = \frac 1 2 (3^{m - 1} - 2^m + 1)
    \end{equation*}

    Note that this is the partition into \emph{exactly} $k$ sets; 
    I am not completely sure what the exercise description tells us to show, but if it is about the number of ways of decomposing $[m]$ into \emph{at most} $k$ sets, then have
    \begin{equation*}
        \Sigma S(m, k)(2) = 2^{m - 1} \quad \text{and} \quad \Sigma S(m, k)(3) = 3^{m - 1} = \frac 1 2 3^{m - 1} + \frac 1 2
    \end{equation*}
    for $m \geq 3$.
    Here $\Sigma S(m, k) = \sum_{l \leq k} S(m, l)$ is the number of partitions of $[m]$ into at most $k$ sets.
    \begin{proof}
        By Prop.~\ref{prop:partitions_recursion} have that for $m \geq 1$ we have $S(m, 1) = 1$.
        Further, for $m \geq 2$ have
        \begin{equation*}
            S(m, 2) = \sum_{n = 1}^{m - 1} {m - 1 \choose n} 1 = 2^{m - 1} - 1
        \end{equation*}
        Applying this once more yields for $m \geq 3$ that
        \begin{align*}
            S(m, 3) =& \sum_{n = 1}^{m - 1} {m - 1 \choose n} (2^{n - 1} - 1) = \frac 1 2 \sum_{n = 1}^{m - 1} {m - 1 \choose n} 2^n - \sum_{n = 1}^{m - 1} {m - 1 \choose n} 1 \\
            =&\frac 1 2 \sum_{n = 0}^{m - 1} {m - 1 \choose n} 2^n - \frac 1 2 - \sum_{n = 0}^{m - 1} {m - 1 \choose n} 1 + 1 \\
            =& \frac 1 2 (1 + 2)^{m - 1} - 2^{m - 1} + \frac 1 2 = \frac 1 2 (3^{m - 1} - 2^m + 1)
        \end{align*}
    \end{proof}
    Let $m$ be even and consider $\mathcal{A} \subseteq \Pi_m$ of partitions of $[m]$ into two equally sized sets.
    Then
    \begin{equation*}
        |\mathcal{A}| = \frac 1 2 {m \choose m/2}
    \end{equation*}
    \begin{proof}
        Consider the map
        \begin{equation*}
            f: [m]^{(m/2)} \to \mathcal{A}, \quad A \mapsto \{ A, [m] \setminus A \}
        \end{equation*}
        Then for $A$ and $B \neq A, [m] \setminus A$ have that $\{ A, [m] \setminus A \} \neq \{ B, [m] \setminus B \}$.
        Conversely, $A$ and $[m] \setminus A$ have the same image under $f$.
        This shows that $f$ is 2-to-1 and thus 
        \begin{equation*}
            |\mathcal{A}| = \frac 1 2 \left| [m]^{(m/2)} \right| = \frac 1 2 {m \choose m/2}
        \end{equation*}
    \end{proof}
    Further have
    \begin{equation*}
        |\partial \mathcal{A}| = {m \choose m/2} \left( 2^{m/2 - 1} - 1 \right)
    \end{equation*}
    \begin{proof}
        Consider the map
        \begin{align*}
            g: \underbrace{\{ (A, B, C) \ | \ A \in [m]^{(m/2)}, \{ A, B, C \} \in \Pi_m \}}_{ =: \mathcal{G} } \to \partial \mathcal{A}, \quad (A, B, C) &\mapsto \{ A, B, C \}
        \end{align*}
        Note that $g$ is well-defined, as for $A \in [m]^{(m/2)}, \{ A, B, C \} \in \Pi_m$ have that $\pi := \{ A, B, C \}$ is a partition in $L_{m - 3}$ that refines the partition $\{ A, B \cup C \} \in \mathcal{A} \subseteq L_{m - 2}$.
        Further, it is easy to see that $g$ is surjective, as every partition $\pi \in \partial \mathcal{A}$ satisfies $|\pi| = 3$ and has some $A \in \pi$ with $|A| = m/2$.

        To complete the proof, we investigate to what ``extend $g$ is injective''.

        Assume $g(A, B, C) = g(A', B', C')$. As $B, C, B', C' \neq \emptyset$ and $|B \cup C| = |B' \cup C'| = m/2$, we see that $A = A'$.
        Further, we must then have that $\{ B, C \} = \{ B', C' \}$, hence $(A, B, C) = (A', B', C')$ or $(A, B, C) = (A', C', B')$ (clearly $B \neq C, B' \neq C'$).
        This shows that the map $g$ is 2-to-1.
        
        Using this, we find
        \begin{align*}
            |\partial \mathcal{A}| =& \frac 1 2 |\mathcal{G}| = \frac 1 2 \sum_{A \in [m]^{(m/2)}} |\{ (B, C) \ | \ \{ B, C \} \ \text{partition of} \ [m] \setminus A \}| \\
            =& \frac 1 2 \sum_{A \in [m]^{(m/2)}} 2 S(m/2, 2) = \sum_{A \in [m]^{(m/2)}} 2^{m/2 - 1} - 1 = {m \choose m/2} \left( 2^{m/2 - 1} - 1 \right)
        \end{align*}
    \end{proof}
    We can now plug this into the second condition of Prop.~\ref{prop:characterization_lym} to see
    \begin{align*}
        \frac {|\partial \mathcal{A}|} {|L_{n - 3}|} &= \frac {{m \choose m/2}\left( 2^{m/2 - 1} - 1\right)} {S(m, 3)} = \frac {{m \choose m/2}\left( 2^{m/2 - 1} - 1\right)} {\frac 1 2 \left( 3^{m - 1} - 2^m + 1 \right)} \\
        &\quad \sim \frac {2^{m + m/2}} {\sqrt{n}(3^{m - 1} - 2^m)} \sim \frac {3 \left( 2^{3/2} \right)^m} {\sqrt{n} 3^m} = \frac 3 {\sqrt{n}} c^m
    \end{align*}
    and
    \begin{align*}
        \frac {|\mathcal{A}|} {|L_{n - 2}|} &= \frac {\frac 1 2 {m \choose m/2}} {S(m, 2)} = \frac {{m \choose m/2}} {2^m - 2} \sim \frac {2^m} {\sqrt{n}2^m} = \frac 1 {\sqrt{n}}
    \end{align*}
    for some $0 < c < 1$ (here $\sim$ means asymptotically equivalent as $m \to \infty$).
    In particular, find for sufficiently large $m$ that
    \begin{equation*}
        \frac {|\partial \mathcal{A}|} {|L_{n - 3}|} < \frac {|\mathcal{A}|} {|L_{n - 2}|}
    \end{equation*}
    and so the conditions of Prop.~\ref{prop:characterization_lym} are not satisfied.
\end{example}

\end{document}